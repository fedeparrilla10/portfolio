---
import Image from 'astro/components/Image.astro';
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import { externalLinks } from '../data/external';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const { cv, rrss } = externalLinks;
---

<header
  class="flex justify-around flex-col py-10 mt-1 md:mt-10 gap-8 lg:gap-5"
  id="home"
>
  <h1 class="font-bold text-2xl md:text-4xl text-center lg:text-left">
    {t('hero.hello')}<span class="waving-hand">{t('hero.wave')}</span>
    {t('hero.im')}
    <span class="text-cyan-300 tracking-wide">Fede Parrilla</span>, <br />{
      t('hero.job')
    }
  </h1>

  <section class="flex flex-col justify-center items-center lg:flex-row gap-10">
    <div class="flex flex-col gap-6 items-center lg:items-start">
      <p class="text-md">
        <span class="font-semibold">{t('hero.experience')}</span>.
        {t('hero.bio')}
      </p>

      <div
        class="flex flex-row gap-5 items-center justify-center lg:items-start lg:justify-start"
      >
        {
          rrss.map((rrss) => {
            return (
              <a href={rrss.link} target="_blank" aria-label={rrss.name}>
                <Image
                  src={rrss.icon}
                  alt={rrss.name}
                  width={48}
                  height={48}
                  loading="eager"
                  class="md:transition md:duration-300 md:ease-in-out md:hover:scale-110"
                />
              </a>
            );
          })
        }
        <a
          href={lang === 'en' ? '/FedeParrillaENG.pdf' : '/FedeParrillaESP.pdf'}
          target="_blank"
          aria-label={cv.name}
        >
          <Image
            src={cv.icon}
            alt={cv.name}
            width={48}
            height={48}
            loading="eager"
            class="md:transition md:duration-300 md:ease-in-out md:hover:scale-110"
          />
        </a>
      </div>
    </div>
    <Image
      src="/mainimg.webp"
      alt="Fede Parrilla"
      width={256}
      height={256}
      class="rounded-full"
      loading="eager"
    />
  </section>

  <style>
    .waving-hand {
      animation-name: wave-animation;
      animation-duration: 2.5s;
      animation-iteration-count: infinite;
      transform-origin: 70% 70%;
      display: inline-block;
    }

    @keyframes wave-animation {
      0% {
        transform: rotate(0deg);
      }
      15% {
        transform: rotate(14deg);
      }
      30% {
        transform: rotate(-8deg);
      }
      40% {
        transform: rotate(14deg);
      }
      50% {
        transform: rotate(-4deg);
      }
      60% {
        transform: rotate(10deg);
      }
      70% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(0deg);
      }
    }
  </style>
</header>
